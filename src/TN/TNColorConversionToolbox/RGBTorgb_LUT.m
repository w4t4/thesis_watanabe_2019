% RGBTorgb_LUT (ver1.1)  % % Compute RGB digital values of Bits++ output (0~65535) corresponding to % desired CRT's RGB intensity(0~1) by look up table.%%% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Usage: %   rgb = RGBTorgb_LUT(RGB, gamma);%   % Input:  %   RGB:   RGB(0~65535) matrix, ([7877 9824 40254] or %                                [7877 9824 40254;  4422 64112 43855])%   gamma: Calibration data, which could be read from '.lut' file.%          '.lut' file could be created by 'udtmeasPTB3_menu.m' or 'fitint2voltBits.m'%% Output:%   rgb:  rgb (0~1) matrix.% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% %% Created by Takehiro Nagai on 07/02/2011 (ver.1)% Modified by Takehiro Nagai on 07/03/2007 (ver.1.1: speed up)% function y=RGBTorgb_LUT(RGB,gamma)% size of data matrixrgbsz=size(RGB);y = ones(rgbsz(1),rgbsz(2));for a=1:3	% rgb gun	for b=1:rgbsz(1)	% each data in rgb        y(b,a)=gamma(RGB(b,a)+1, a);	endend