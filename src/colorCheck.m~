load('ccmatrix.mat');
load('../img/mag1_dl/SDsameSphere.mat');
[ix,iy,iz] = size(SDsame(:,:,:,1));
po = zeros(ix,iy,iz);
count = 0
for i = 1:ix
    for j = 1:iy
        for k = 1:iz
            for l = 1:3
                po(i,j,k) = po(i,j,k) + ccmatrix.xyz2rgb(k,l) * xyzMask(i,j,l);
            end
            if po(i,j,k) > 1
                po(i,j,k) = 1;
            elseif po(i,j,k) < 0.1
                count = count + 1;
            end
        end
    end
end
for m = 1:3
    %po(:,:,m) = po(:,:,m) / max(max(max(po)));
end
figure;
imshow(po);
%figure;
%imshow(xyz2rgb(SDsame(:,:,:,1))/16);